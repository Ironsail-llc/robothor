# ============================================================================
# Robothor Configuration
# ============================================================================
# Copy this file to /etc/robothor/robothor.env and customize.
# All values shown are defaults unless marked (required).
# ============================================================================

# ── Database (PostgreSQL + pgvector) ────────────────────────────────────────
ROBOTHOR_DB_HOST=127.0.0.1
ROBOTHOR_DB_PORT=5432
ROBOTHOR_DB_NAME=robothor_memory
ROBOTHOR_DB_USER=robothor
ROBOTHOR_DB_PASSWORD=changeme                    # (required) Set a strong password

# ── Redis ───────────────────────────────────────────────────────────────────
ROBOTHOR_REDIS_HOST=127.0.0.1
ROBOTHOR_REDIS_PORT=6379
ROBOTHOR_REDIS_MAXMEMORY=2gb

# ── Ollama (LLM inference) ─────────────────────────────────────────────────
ROBOTHOR_OLLAMA_HOST=http://127.0.0.1
ROBOTHOR_OLLAMA_PORT=11434

# Embedding model (1024-dim vectors for pgvector)
ROBOTHOR_EMBEDDING_MODEL=qwen3-embedding:0.6b
# Reranker model (cross-encoder for search result reranking)
ROBOTHOR_RERANKER_MODEL=Qwen3-Reranker-0.6B:F16
# Generation model (loaded on demand for RAG responses)
ROBOTHOR_GENERATION_MODEL=qwen3:8b

# ── Service Ports ───────────────────────────────────────────────────────────
ROBOTHOR_API_PORT=9099                           # RAG Orchestrator / API server
ROBOTHOR_BRIDGE_PORT=9100                        # Bridge service (CRM, contacts)
ROBOTHOR_VISION_PORT=8600                        # Vision service (YOLO + faces)

# ── Vision ──────────────────────────────────────────────────────────────────
# Default mode on startup: disarmed, basic, or armed
ROBOTHOR_VISION_MODE=disarmed
# Camera source (device path, RTSP URL, or video file)
ROBOTHOR_CAMERA_SOURCE=/dev/video0
# Resolution
ROBOTHOR_CAMERA_WIDTH=640
ROBOTHOR_CAMERA_HEIGHT=480
# YOLO model variant (nano=6MB, small=22MB, medium=52MB)
ROBOTHOR_YOLO_MODEL=yolov8n
# Vision scene analysis model (optional, requires Ollama)
ROBOTHOR_VLM_MODEL=llama3.2-vision:11b

# ── Workspace ───────────────────────────────────────────────────────────────
# Base directory for runtime data (logs, memory files, face database)
ROBOTHOR_WORKSPACE=/var/lib/robothor
# Log directory
ROBOTHOR_LOG_DIR=/var/log/robothor

# ── Memory System ──────────────────────────────────────────────────────────
# Short-term memory TTL in hours (auto-expires)
ROBOTHOR_MEMORY_TTL_HOURS=48
# Fact importance threshold for long-term storage (0.0 - 1.0)
ROBOTHOR_IMPORTANCE_THRESHOLD=0.3
# Maximum memory blocks content size in characters
ROBOTHOR_MEMORY_BLOCK_MAX_CHARS=5000

# ── Notifications (optional) ───────────────────────────────────────────────
# Telegram bot token for alerts (vision, escalations)
# ROBOTHOR_TELEGRAM_BOT_TOKEN=
# Telegram chat ID for notifications
# ROBOTHOR_TELEGRAM_CHAT_ID=

# ── Voice (Kokoro TTS) ────────────────────────────────────────────────────
ROBOTHOR_TTS_PORT=8880
ROBOTHOR_TTS_VOICE=am_michael

# ── Monitoring (Uptime Kuma) ──────────────────────────────────────────────
ROBOTHOR_MONITORING_PORT=3010

# ── Tunnel ────────────────────────────────────────────────────────────────
# Provider: none, cloudflare, caddy
ROBOTHOR_TUNNEL_PROVIDER=none
# ROBOTHOR_DOMAIN=example.com
# CLOUDFLARE_TUNNEL_TOKEN=

# ── Media (MediaMTX webcam) ───────────────────────────────────────────────
ROBOTHOR_CAMERA_RTSP_PORT=8554
ROBOTHOR_CAMERA_HLS_PORT=8890

# ── Docker Compose Profiles ──────────────────────────────────────────────
# Comma-separated: monitoring, tts, media, tunnel, full
COMPOSE_PROFILES=
