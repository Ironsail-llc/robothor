id: main
name: Robothor
description: Primary agent — interactive Telegram chat + periodic heartbeat (worker oversight, escalation)
version: "2026-03-01"
department: core

reports_to: null
creates_tasks_for: [email-classifier, email-responder, crm-steward]
receives_tasks_from: [email-classifier, calendar-monitor, conversation-inbox, vision-monitor, crm-steward, email-responder]
escalates_to: null

tags_produced: [escalation, needs-philip]
tags_consumed: [escalation, needs-philip, calendar, conflict, cancellation, vision, unknown-person, conversation]

model:
  primary: openrouter/anthropic/claude-sonnet-4-6
  fallbacks:
    - openrouter/moonshotai/kimi-k2.5
    - gemini/gemini-2.5-pro
  payload_alias: sonnet
  temperature: 0.5

schedule:
  cron: ""
  timezone: America/New_York
  timeout_seconds: 600
  max_iterations: 30
  session_target: persistent

delivery:
  mode: none
  channel: telegram
  to: "7636850023"

tools_allowed:
  - list_conversations
  - get_conversation
  - list_messages
  - create_message
  - toggle_conversation_status
  - log_interaction
  - create_person
  - update_person
  - list_people
  - get_person
  - delete_person
  - create_company
  - update_company
  - list_companies
  - get_company
  - delete_company
  - create_note
  - list_notes
  - update_note
  - delete_note
  - create_task
  - update_task
  - get_task
  - delete_task
  - list_tasks
  - list_my_tasks
  - resolve_task
  - approve_task
  - reject_task
  - send_notification
  - get_inbox
  - ack_notification
  - search_memory
  - store_memory
  - get_entity
  - memory_block_read
  - memory_block_write
  - memory_block_list
  - append_to_block
  - search_records
  - get_metadata_objects
  - get_object_metadata
  - merge_people
  - merge_companies
  - look
  - who_is_here
  - enroll_face
  - set_vision_mode
  - web_search
  - web_fetch
  - read_file
  - write_file
  - exec
  - list_agent_runs
  - get_agent_run
  - list_agent_schedules
  - get_agent_stats
  # Impetus One healthcare tools
  - search_patients
  - get_patient_details
  - get_patient_clinical_notes
  - get_patient_prescriptions
  - search_prescriptions
  - get_prescription_status
  - search_medications
  - search_pharmacies
  - get_appointments
  - list_actable_providers
  - create_prescription_draft
  - schedule_appointment
  - transmit_prescription
  # Deep reasoning (RLM)
  - deep_reason
  # Sub-agent spawning tools
  - spawn_agent
  - spawn_agents
tools_denied: []

streams:
  read: [email, calendar, crm, vision, health, agent, system]
  write: [agent, system]

sla:
  urgent: 30m
  high: 2h
  normal: 8h
  low: 24h

task_protocol: true
review_workflow: true
notification_inbox: true
status_file: null
shared_working_state: true

instruction_file: brain/SOUL.md
bootstrap_files:
  - brain/AGENTS.md
  - brain/TOOLS.md

heartbeat:
  cron: "0 6-22 * * *"
  timezone: America/New_York
  instruction_file: brain/HEARTBEAT.md
  session_target: isolated
  max_iterations: 15
  timeout_seconds: 600
  delivery:
    mode: announce
    channel: telegram
    to: "7636850023"
  context_files:
    - brain/memory/email-classifier-status.md
    - brain/memory/response-status.md
    - brain/memory/calendar-monitor-status.md
    - brain/memory/vision-monitor-status.md
  peer_agents: [email-classifier, email-responder, calendar-monitor]
  bootstrap_files: [brain/AGENTS.md, brain/TOOLS.md]

v2:
  can_spawn_agents: true
  max_nesting_depth: 2
  sub_agent_max_iterations: 10
  sub_agent_timeout_seconds: 120

changelog:
  - date: "2026-03-01"
    change: "Enable sub-agent spawning — main can delegate focused sub-tasks to worker agents mid-run"
  - date: "2026-03-01"
    change: "Merged supervisor into main — heartbeat is now a feature of the main agent, not a separate entity"
  - date: "2026-02-27"
    change: "Created for Python Agent Engine — interactive Telegram chat"
